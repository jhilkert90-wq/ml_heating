[supervisord]
nodaemon=true
logfile=/data/logs/supervisord.log
pidfile=/tmp/supervisord.pid
childlogdir=/data/logs

[program:ml_heating]
command=/usr/bin/python3 -u -m src.main
directory=/app
autostart=true
autorestart=true
startretries=5
startsecs=5
stdout_logfile=/data/logs/ml_heating.log
stderr_logfile=/data/logs/ml_heating_error.log
environment=PYTHONPATH="/app"

[program:dashboard]
command=/usr/bin/python3 -u -m streamlit run /app/dashboard/app.py \
    --server.port=3001 --server.address=0.0.0.0 \
    --server.headless=true --server.enableCORS=false \
    --server.enableXsrfProtection=false
directory=/app
autostart=true
autorestart=true
startretries=5
startsecs=10
stdout_logfile=/data/logs/dashboard.log
stderr_logfile=/data/logs/dashboard_error.log
environment=PYTHONPATH="/app"


